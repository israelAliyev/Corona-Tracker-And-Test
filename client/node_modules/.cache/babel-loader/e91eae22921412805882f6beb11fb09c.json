{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/israil/WebstormProjects/Metbix/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/israil/WebstormProjects/Metbix/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/israil/WebstormProjects/Metbix/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from'react';import'../css/register.css';import Axios from'axios';var Register=function Register(){Axios.defaults.withCredentials=true;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userNameReg=_useState2[0],setUserNameReg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userMailReg=_useState4[0],setUserMailReg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userPasswordReg=_useState6[0],setUserPasswordReg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmUserPasswordReg=_useState8[0],setConfirmUserPasswordReg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showInput=_useState12[0],setShowInput=_useState12[1];var _useState13=useState(\"/images/rcb.jpg\"),_useState14=_slicedToArray(_useState13,2),image=_useState14[0],setImage=_useState14[1];var view=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var files,data,res,file;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:files=e.target.files;data=new FormData();data.append('file',files[0]);data.append('upload_preset','metbix_images');_context.next=6;return fetch('https://api.cloudinary.com/v1_1/metbix-com/image/upload',{method:'POST',body:data});case 6:res=_context.sent;_context.next=9;return res.json();case 9:file=_context.sent;setImage(file.secure_url);case 11:case\"end\":return _context.stop();}}},_callee);}));return function view(_x){return _ref.apply(this,arguments);};}();var registerFunc=function registerFunc(){if(userNameReg!==\"\"&&userMailReg!==\"\"&&userPasswordReg!==\"\"&&confirmUserPasswordReg!==\"\"){if(userMailReg.indexOf('@')!==-1&&userMailReg.indexOf('@')!==0&&userMailReg.indexOf('@')!==userMailReg.length){Axios.post('http://localhost:4000/usemail',{mail:userMailReg}).then(function(response){if(response.data.exist!==true){if(userPasswordReg.length>7){if(userPasswordReg===confirmUserPasswordReg){Axios.post('http://localhost:4000/register',{username:userNameReg,mail:userMailReg,password:userPasswordReg,image:image});window.location='/login';}else{setMessage(\"Please verify the password correctly!\");setShowInput(false);}}else{setMessage(\"Password must be at least 8 digits!\");setShowInput(false);}}else{setMessage(\"This e-post address is already registered!\");setShowInput(false);}});}else{setMessage(\"Not a valid email address\");setShowInput(false);}}else{setMessage(\"Any form can't be empty!\");setShowInput(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginM\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"divI\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"inf\",children:\"Please Register to pass the CoronaVirus Test.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"divH\",children:[\"  \",/*#__PURE__*/_jsx(\"h3\",{className:\"inf\",children:\"I have Account\"}),\" \"]}),/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000/login\",className:\"signUp\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"loginT\",children:\"Register\"}),showInput===true&&/*#__PURE__*/_jsx(\"input\",{className:message===\"\"?\"input_file\":\"input_file2\",type:\"file\",accept:\"image/*\",onChange:view}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(e){return setShowInput(!showInput);},id:message===\"\"?\"profil_image\":\"profil_image2\",src:image}),message!==\"\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger register_message\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error!:\"}),\" \",message]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__group field\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setUserMailReg(e.target.value);},autoComplete:\"off\",type:\"input\",className:\"form__field\",placeholder:\"Email\",name:\"email\",id:\"email\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form__label\",children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__group2 field\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setUserPasswordReg(e.target.value);},autoComplete:\"off\",type:\"password\",className:\"form__field\",placeholder:\"Password\",name:\"password\",id:\"password\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form__label\",children:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__group3 field\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setConfirmUserPasswordReg(e.target.value);},autoComplete:\"off\",type:\"password\",className:\"form__field\",placeholder:\"PasswordConfirm\",name:\"passwordConfirm\",id:\"passwordConfirm\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwordConfirm\",className:\"form__label\",children:\"Password Confirm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__group4 field\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setUserNameReg(e.target.value);},autoComplete:\"off\",type:\"input\",className:\"form__field\",placeholder:\"UserName\",name:\"username\",id:\"username\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form__label\",children:\"UserName\"})]})]}),/*#__PURE__*/_jsx(\"a\",{onClick:registerFunc,className:\"signIn\",children:\"SignUp\"})]});};export default Register;","map":{"version":3,"sources":["/Users/israil/WebstormProjects/Metbix/client/src/LoginAndRegister/Register.js"],"names":["React","Component","useState","useEffect","Axios","Register","defaults","withCredentials","userNameReg","setUserNameReg","userMailReg","setUserMailReg","userPasswordReg","setUserPasswordReg","confirmUserPasswordReg","setConfirmUserPasswordReg","message","setMessage","showInput","setShowInput","image","setImage","view","e","files","target","data","FormData","append","fetch","method","body","res","json","file","secure_url","registerFunc","indexOf","length","post","mail","then","response","exist","username","password","window","location","value"],"mappings":"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","sourcesContent":["import React, { Component , useState , useEffect} from 'react';\nimport '../css/register.css'\nimport Axios from 'axios';\n\nconst Register = () => {\n\n   Axios.defaults.withCredentials = true;\n\n\n   const [userNameReg , setUserNameReg] = useState(\"\");\n   const [userMailReg , setUserMailReg] = useState(\"\");\n   const [userPasswordReg , setUserPasswordReg] = useState(\"\");\n   const [confirmUserPasswordReg , setConfirmUserPasswordReg] = useState(\"\");\n   const[message , setMessage] = useState(\"\");\n    const[showInput , setShowInput] = useState(false);\n    const[image , setImage] = useState(\"/images/rcb.jpg\");\n\n\n\n\n\n    const view = async (e) =>{\n        const files = e.target.files;\n          const data = new FormData();\n          data.append('file',files[0]);\n          data.append('upload_preset', 'metbix_images');\n\n          const res = await fetch('https://api.cloudinary.com/v1_1/metbix-com/image/upload',{\n              method:'POST',\n              body:data\n          })\n\n        const file = await res.json();\n\n          setImage(file.secure_url);\n    }\n\n\n    const registerFunc = () => {\n\n        if (userNameReg !== \"\" && userMailReg !== \"\" && userPasswordReg !== \"\" && confirmUserPasswordReg !== \"\") {\n\n                    if(userMailReg.indexOf('@') !== -1 && userMailReg.indexOf('@') !== 0 && userMailReg.indexOf('@') !== userMailReg.length) {\n\n                        Axios.post('http://localhost:4000/usemail' , {mail:userMailReg})\n                            .then((response) => {\n\n                        if (response.data.exist !== true) {\n\n                 if (userPasswordReg.length > 7) {\n\n\n                     if(userPasswordReg === confirmUserPasswordReg) {\n\n                         Axios.post('http://localhost:4000/register', {\n                             username: userNameReg,\n                             mail: userMailReg,\n                             password: userPasswordReg,\n                             image:image\n                         })\n                         window.location = '/login'\n                     }else{\n\n                         setMessage(\"Please verify the password correctly!\")\n                         setShowInput(false)\n                     }\n\n                 }else{\n                     setMessage(\"Password must be at least 8 digits!\")\n                     setShowInput(false)\n\n                 }\n\n             }else{\n                 setMessage(\"This e-post address is already registered!\")\n                            setShowInput(false)\n                        }\n\n                    });\n\n           }else{\n               setMessage(\"Not a valid email address\")\n                        setShowInput(false)\n                    }\n\n\n        }else{\n            setMessage(\"Any form can't be empty!\")\n            setShowInput(false)\n        }\n   }\n\n\n\n\n    return(\n        <div>\n\n            <div className=\"loginM\">\n\n                <div className=\"divI\">\n                    <h1 className=\"inf\">Please Register to pass the CoronaVirus Test.</h1>\n                </div>\n\n                <div className=\"divH\">  <h3 className=\"inf\">I have Account</h3> </div>\n\n\n                <a href=\"http://localhost:3000/login\" className=\"signUp\">Login</a>\n\n            </div>\n\n\n            <div className=\"login\">\n\n\n\n                <h1 className=\"loginT\">Register</h1>\n                {showInput === true &&\n                <input className={message === \"\"?\"input_file\":\"input_file2\"} type=\"file\"  accept=\"image/*\" onChange={view}/>\n                }\n                <img onClick={(e) => setShowInput(!showInput)} id={message === \"\" ? \"profil_image\" : \"profil_image2\"} src={image}/>\n\n\n\n                {message !== \"\" &&\n                <div  className=\"alert alert-danger register_message\">\n                    <strong>Error!:</strong> {message}\n                </div>\n                }\n\n\n\n                <div className=\"form__group field\">\n                    <input  onChange = {(e) => setUserMailReg(e.target.value)}  autoComplete=\"off\" type=\"input\" className=\"form__field\" placeholder=\"Email\" name=\"email\" id='email' required />\n                    <label htmlFor=\"email\" className=\"form__label\">Email</label>\n                </div>\n\n\n                <div className=\"form__group2 field\">\n                    <input  onChange = {(e) => setUserPasswordReg(e.target.value)} autoComplete=\"off\" type=\"password\" className=\"form__field\" placeholder=\"Password\"\n                           name=\"password\" id='password' required/>\n                    <label htmlFor=\"password\" className=\"form__label\">Password</label>\n                </div>\n\n                <div className=\"form__group3 field\">\n                    <input onChange = {(e) => setConfirmUserPasswordReg(e.target.value)} autoComplete=\"off\" type=\"password\" className=\"form__field\" placeholder=\"PasswordConfirm\"\n                           name=\"passwordConfirm\" id='passwordConfirm' required/>\n                    <label htmlFor=\"passwordConfirm\" className=\"form__label\">Password Confirm</label>\n                </div>\n\n\n                <div className=\"form__group4 field\">\n                    <input onChange = {(e) => setUserNameReg(e.target.value)} autoComplete=\"off\" type=\"input\" className=\"form__field\" placeholder=\"UserName\" name=\"username\"\n                           id='username' required/>\n                    <label htmlFor=\"username\" className=\"form__label\">UserName</label>\n                </div>\n\n            </div>\n\n            <a onClick={registerFunc} className=\"signIn\">SignUp</a>\n\n        </div>\n    );\n\n}\n\nexport default Register;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}